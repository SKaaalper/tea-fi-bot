const a6_0x28638c=a6_0x1a69;function a6_0x1a69(_0x1a0273,_0x7dc494){const _0x4a24c6=a6_0x302d();return a6_0x1a69=function(_0x396204,_0xf971e2){_0x396204=_0x396204-0x177;let _0x302def=_0x4a24c6[_0x396204];if(a6_0x1a69['HQcvoD']===undefined){var _0x1a698e=function(_0x3f1cf3){const _0x366ff7='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x3ea992='',_0x42f057='',_0x2dac3a=_0x3ea992+_0x1a698e;for(let _0xbef636=0x0,_0x158f7c,_0x3406bf,_0x5b6bf7=0x0;_0x3406bf=_0x3f1cf3['charAt'](_0x5b6bf7++);~_0x3406bf&&(_0x158f7c=_0xbef636%0x4?_0x158f7c*0x40+_0x3406bf:_0x3406bf,_0xbef636++%0x4)?_0x3ea992+=_0x2dac3a['charCodeAt'](_0x5b6bf7+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x158f7c>>(-0x2*_0xbef636&0x6)):_0xbef636:0x0){_0x3406bf=_0x366ff7['indexOf'](_0x3406bf);}for(let _0x159d40=0x0,_0x5600a2=_0x3ea992['length'];_0x159d40<_0x5600a2;_0x159d40++){_0x42f057+='%'+('00'+_0x3ea992['charCodeAt'](_0x159d40)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x42f057);};const _0x457c8a=function(_0x381811,_0x1acc9c){let _0x474a38=[],_0x7330da=0x0,_0x15034e,_0x24f56a='';_0x381811=_0x1a698e(_0x381811);let _0x58f534;for(_0x58f534=0x0;_0x58f534<0x100;_0x58f534++){_0x474a38[_0x58f534]=_0x58f534;}for(_0x58f534=0x0;_0x58f534<0x100;_0x58f534++){_0x7330da=(_0x7330da+_0x474a38[_0x58f534]+_0x1acc9c['charCodeAt'](_0x58f534%_0x1acc9c['length']))%0x100,_0x15034e=_0x474a38[_0x58f534],_0x474a38[_0x58f534]=_0x474a38[_0x7330da],_0x474a38[_0x7330da]=_0x15034e;}_0x58f534=0x0,_0x7330da=0x0;for(let _0x3a9d4d=0x0;_0x3a9d4d<_0x381811['length'];_0x3a9d4d++){_0x58f534=(_0x58f534+0x1)%0x100,_0x7330da=(_0x7330da+_0x474a38[_0x58f534])%0x100,_0x15034e=_0x474a38[_0x58f534],_0x474a38[_0x58f534]=_0x474a38[_0x7330da],_0x474a38[_0x7330da]=_0x15034e,_0x24f56a+=String['fromCharCode'](_0x381811['charCodeAt'](_0x3a9d4d)^_0x474a38[(_0x474a38[_0x58f534]+_0x474a38[_0x7330da])%0x100]);}return _0x24f56a;};a6_0x1a69['eQXazl']=_0x457c8a,_0x1a0273=arguments,a6_0x1a69['HQcvoD']=!![];}const _0x127132=_0x4a24c6[0x0],_0x51cca5=_0x396204+_0x127132,_0x53917d=_0x1a0273[_0x51cca5];if(!_0x53917d){if(a6_0x1a69['qeXYgO']===undefined){const _0x312f1e=function(_0x1c300a){this['TeLJjc']=_0x1c300a,this['SlKrDa']=[0x1,0x0,0x0],this['SUmKuc']=function(){return'newState';},this['HPZAQn']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['SUIiHE']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x312f1e['prototype']['uPxFXU']=function(){const _0x2f6007=new RegExp(this['HPZAQn']+this['SUIiHE']),_0x32842e=_0x2f6007['test'](this['SUmKuc']['toString']())?--this['SlKrDa'][0x1]:--this['SlKrDa'][0x0];return this['bsyAHl'](_0x32842e);},_0x312f1e['prototype']['bsyAHl']=function(_0x2806ba){if(!Boolean(~_0x2806ba))return _0x2806ba;return this['KyxQeS'](this['TeLJjc']);},_0x312f1e['prototype']['KyxQeS']=function(_0x211298){for(let _0x494720=0x0,_0x378810=this['SlKrDa']['length'];_0x494720<_0x378810;_0x494720++){this['SlKrDa']['push'](Math['round'](Math['random']())),_0x378810=this['SlKrDa']['length'];}return _0x211298(this['SlKrDa'][0x0]);},new _0x312f1e(a6_0x1a69)['uPxFXU'](),a6_0x1a69['qeXYgO']=!![];}_0x302def=a6_0x1a69['eQXazl'](_0x302def,_0xf971e2),_0x1a0273[_0x51cca5]=_0x302def;}else _0x302def=_0x53917d;return _0x302def;},a6_0x1a69(_0x1a0273,_0x7dc494);}(function(_0x1aa28f,_0x4dd648){const _0x5867b0=a6_0x1a69,_0xf8e4bd=_0x1aa28f();while(!![]){try{const _0x4a5fb6=-parseInt(_0x5867b0(0x180,'zh5n'))/0x1*(parseInt(_0x5867b0(0x187,'Ahz^'))/0x2)+parseInt(_0x5867b0(0x18e,'jhqP'))/0x3*(parseInt(_0x5867b0(0x17a,'M$d5'))/0x4)+parseInt(_0x5867b0(0x18f,'3mh4'))/0x5*(parseInt(_0x5867b0(0x189,'EsuH'))/0x6)+-parseInt(_0x5867b0(0x18a,'jD#*'))/0x7*(parseInt(_0x5867b0(0x186,'5yMD'))/0x8)+-parseInt(_0x5867b0(0x18c,'OwYL'))/0x9+-parseInt(_0x5867b0(0x17b,'29f!'))/0xa*(parseInt(_0x5867b0(0x190,'2ME5'))/0xb)+-parseInt(_0x5867b0(0x178,'0o^z'))/0xc*(-parseInt(_0x5867b0(0x188,'Qce)'))/0xd);if(_0x4a5fb6===_0x4dd648)break;else _0xf8e4bd['push'](_0xf8e4bd['shift']());}catch(_0x3eb44b){_0xf8e4bd['push'](_0xf8e4bd['shift']());}}}(a6_0x302d,0xe6e2f));const a6_0xf971e2=(function(){let _0x5c2075=!![];return function(_0x37f65d,_0x4c8494){const _0x4be2fb=_0x5c2075?function(){if(_0x4c8494){const _0x1f4efa=_0x4c8494['apply'](_0x37f65d,arguments);return _0x4c8494=null,_0x1f4efa;}}:function(){};return _0x5c2075=![],_0x4be2fb;};}()),a6_0x396204=a6_0xf971e2(this,function(){const _0x58a9d4=a6_0x1a69;return a6_0x396204['toString']()['search'](_0x58a9d4(0x182,'vAg5'))[_0x58a9d4(0x18d,'kChE')]()['constructor'](a6_0x396204)['search']('(((.+)+)+)+$');});a6_0x396204();import a6_0x4370c8 from'sqlite3';import{open}from'sqlite';function a6_0x302d(){const _0x74de30=['kcrUBCoHW6SeFq','cColW7H6gSoH','W5xcNmosW7uKuSoyW6iY','W4lcI8kyWRBdLtRcIt8','nSoAW5tcMgVcNL0OpmkHW7vbcG','WONcHCkwWQ9Ewq3cJSo3W6BdTG','fKhdGYldRWmNW6NcJduf','W6RcGSoYW6Wx','WOJdPIGtdv3cKHOPWPWeWPKU','Ff4xtmkOW4rJnq','xCkwWQrXf8olWQRdK3q','cCogWPpcRmo+cgVcTSos','vmklWQVdTMZdOgFdJLbUyu/dRq','r8ktWPpcVr0fwLNcSW','iIu/uSoedmkzBf8SWRq+W60','cSo5EINcTfT9nIG','kSoKqar6WPxcUHJdImoLWPLCW4fLeCk9rq','rNShAmkIW7ldSYiwW7q','WR0FzCkQrXzRpa','WRdcTKaZWR4IW6hcMqTobmkTyW','W5pcK0S','W4lcO3rpsq','W7m2CSkk','WOf4dCkjWOZdUSoMaSk8rtqK','khpdQw9eBmoQW7K','W51oW5KGgmoPW6RcTSo4WQ7cUaK','hmkmWRjad3VcPmk4W7yFWONdNmoawmk/'];a6_0x302d=function(){return _0x74de30;};return a6_0x302d();}class SQLITE{async['connectToDatabase'](){const _0xc1ea4e=a6_0x1a69;return open({'filename':'./database.db','driver':a6_0x4370c8[_0xc1ea4e(0x184,'&cZd')]});}async['createTable'](){const _0x3757c1=a6_0x1a69,_0x4933f5=await this['connectToDatabase']();await _0x4933f5[_0x3757c1(0x17f,'v8$w')]('\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20tx_log\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20address\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20tx_date\x20DATE\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20type\x20TEXT\x0a\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20'),await _0x4933f5['exec']('\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20approve_log\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20address\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20ca\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20spender\x20TEXT\x20NOT\x20NULL\x0a\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20'),await _0x4933f5['close']();}async['insertData'](_0x134d24,_0x50a701,_0x40e639){const _0x104635=a6_0x1a69,_0x295b6a=await this[_0x104635(0x179,'L3sH')]();await _0x295b6a['run']('INSERT\x20INTO\x20tx_log\x20(address,\x20tx_date,\x20type)\x20VALUES\x20(?,\x20?,\x20?)',[_0x134d24,_0x50a701,_0x40e639]),await _0x295b6a['close']();}async['insertApprovalData'](_0x54603c,_0xcd4cd0,_0x2eb1da){const _0x27cd31=await this['connectToDatabase']();await _0x27cd31['run']('INSERT\x20INTO\x20approve_log\x20(address,\x20ca,\x20spender)\x20VALUES\x20(?,\x20?,\x20?)',[_0x54603c,_0xcd4cd0,_0x2eb1da]),await _0x27cd31['close']();}async[a6_0x28638c(0x177,'6J]2')](_0x5d9f19,_0x37f1ea){const _0x4a4c4e=a6_0x28638c,_0x2a5874=await this['connectToDatabase'](),_0x49e355=new Date()['toISOString']()[_0x4a4c4e(0x17e,'OwYL')]('T')[0x0],_0x2237c8=await _0x2a5874['all']('\x0a\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20tx_log\x0a\x20\x20\x20\x20\x20\x20WHERE\x20DATE(tx_date)\x20=\x20?\x20AND\x20address\x20=\x20?\x20AND\x20type\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20tx_date\x20DESC\x0a\x20\x20\x20\x20',[_0x49e355,_0x5d9f19,_0x37f1ea]);return await _0x2a5874[_0x4a4c4e(0x18b,'F]4n')](),_0x2237c8;}async[a6_0x28638c(0x183,'CD!V')](_0x486b96,_0x3a3b55,_0xafecb3){const _0x2bb570=a6_0x28638c,_0x1f49d7=await this['connectToDatabase'](),_0x3c2199=await _0x1f49d7[_0x2bb570(0x17d,'cVZ@')]('\x0a\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20approve_log\x0a\x20\x20\x20\x20\x20\x20WHERE\x20address\x20=\x20?\x20AND\x20ca\x20=\x20?\x20AND\x20spender\x20=\x20?\x0a\x20\x20\x20\x20',[_0x486b96,_0x3a3b55,_0xafecb3]);return await _0x1f49d7['close'](),_0x3c2199[_0x2bb570(0x185,'jhqP')]>0x0;}}const sqlite=new SQLITE();await sqlite['createTable']();export default sqlite;