const a4_0x3cb945=a4_0x1b41;(function(_0x77c69,_0x3fd631){const _0x33f2b6=a4_0x1b41,_0x1727d6=_0x77c69();while(!![]){try{const _0x427f8a=-parseInt(_0x33f2b6(0xd6,'mCb*'))/0x1*(parseInt(_0x33f2b6(0xe6,'V*dz'))/0x2)+parseInt(_0x33f2b6(0xd3,'%frU'))/0x3*(parseInt(_0x33f2b6(0xe7,'X6(j'))/0x4)+-parseInt(_0x33f2b6(0xe5,'TUZz'))/0x5+parseInt(_0x33f2b6(0xd2,'s)&z'))/0x6+parseInt(_0x33f2b6(0xda,'&Gr1'))/0x7*(-parseInt(_0x33f2b6(0xe8,'G(ei'))/0x8)+parseInt(_0x33f2b6(0xdc,'h2(B'))/0x9+parseInt(_0x33f2b6(0xe3,'BdMn'))/0xa*(parseInt(_0x33f2b6(0xd1,'zq7A'))/0xb);if(_0x427f8a===_0x3fd631)break;else _0x1727d6['push'](_0x1727d6['shift']());}catch(_0x470843){_0x1727d6['push'](_0x1727d6['shift']());}}}(a4_0x3b82,0x5dbc8));const a4_0x180aa8=(function(){let _0x3ba61c=!![];return function(_0x274eb3,_0x365219){const _0x52293e=_0x3ba61c?function(){const _0x49030f=a4_0x1b41;if('KMrWO'==='KMrWO'){if(_0x365219){const _0x4bbe3f=_0x365219[_0x49030f(0xe4,'^bbj')](_0x274eb3,arguments);return _0x365219=null,_0x4bbe3f;}}else{const _0x27e4ab=_0x481373['apply'](_0x3d40cf,arguments);return _0x1daf88=null,_0x27e4ab;}}:function(){};return _0x3ba61c=![],_0x52293e;};}()),a4_0x377010=a4_0x180aa8(this,function(){const _0x32d053=a4_0x1b41;return a4_0x377010['toString']()[_0x32d053(0xdd,'xnM4')]('(((.+)+)+)+$')[_0x32d053(0xde,'X6(j')]()['constructor'](a4_0x377010)[_0x32d053(0xea,'^jnX')]('(((.+)+)+)+$');});a4_0x377010();function a4_0x1b41(_0x22b19b,_0x2bfbd9){const _0x505f3f=a4_0x3b82();return a4_0x1b41=function(_0x377010,_0x180aa8){_0x377010=_0x377010-0xcf;let _0x3b828f=_0x505f3f[_0x377010];if(a4_0x1b41['GnsCQi']===undefined){var _0x1b41bf=function(_0xa1a236){const _0x3e20cc='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x28ea06='',_0x5dac15='',_0x4fece2=_0x28ea06+_0x1b41bf;for(let _0x542e1a=0x0,_0x56a441,_0x37a571,_0x154154=0x0;_0x37a571=_0xa1a236['charAt'](_0x154154++);~_0x37a571&&(_0x56a441=_0x542e1a%0x4?_0x56a441*0x40+_0x37a571:_0x37a571,_0x542e1a++%0x4)?_0x28ea06+=_0x4fece2['charCodeAt'](_0x154154+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x56a441>>(-0x2*_0x542e1a&0x6)):_0x542e1a:0x0){_0x37a571=_0x3e20cc['indexOf'](_0x37a571);}for(let _0x19c697=0x0,_0x2a1d1d=_0x28ea06['length'];_0x19c697<_0x2a1d1d;_0x19c697++){_0x5dac15+='%'+('00'+_0x28ea06['charCodeAt'](_0x19c697)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5dac15);};const _0x111c2a=function(_0x50b1f4,_0x349b6a){let _0x352ad6=[],_0x58763c=0x0,_0x33bfeb,_0x1cb307='';_0x50b1f4=_0x1b41bf(_0x50b1f4);let _0x8ee960;for(_0x8ee960=0x0;_0x8ee960<0x100;_0x8ee960++){_0x352ad6[_0x8ee960]=_0x8ee960;}for(_0x8ee960=0x0;_0x8ee960<0x100;_0x8ee960++){_0x58763c=(_0x58763c+_0x352ad6[_0x8ee960]+_0x349b6a['charCodeAt'](_0x8ee960%_0x349b6a['length']))%0x100,_0x33bfeb=_0x352ad6[_0x8ee960],_0x352ad6[_0x8ee960]=_0x352ad6[_0x58763c],_0x352ad6[_0x58763c]=_0x33bfeb;}_0x8ee960=0x0,_0x58763c=0x0;for(let _0x5e9ac0=0x0;_0x5e9ac0<_0x50b1f4['length'];_0x5e9ac0++){_0x8ee960=(_0x8ee960+0x1)%0x100,_0x58763c=(_0x58763c+_0x352ad6[_0x8ee960])%0x100,_0x33bfeb=_0x352ad6[_0x8ee960],_0x352ad6[_0x8ee960]=_0x352ad6[_0x58763c],_0x352ad6[_0x58763c]=_0x33bfeb,_0x1cb307+=String['fromCharCode'](_0x50b1f4['charCodeAt'](_0x5e9ac0)^_0x352ad6[(_0x352ad6[_0x8ee960]+_0x352ad6[_0x58763c])%0x100]);}return _0x1cb307;};a4_0x1b41['pxBHYX']=_0x111c2a,_0x22b19b=arguments,a4_0x1b41['GnsCQi']=!![];}const _0x2a7b5d=_0x505f3f[0x0],_0x450d18=_0x377010+_0x2a7b5d,_0xa46d3e=_0x22b19b[_0x450d18];if(!_0xa46d3e){if(a4_0x1b41['LEqARa']===undefined){const _0x4e584a=function(_0x2924d9){this['uLOnAT']=_0x2924d9,this['nhOuql']=[0x1,0x0,0x0],this['ifEIjm']=function(){return'newState';},this['mrkQRr']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['hivVft']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4e584a['prototype']['ZIFAKv']=function(){const _0x4a3fde=new RegExp(this['mrkQRr']+this['hivVft']),_0x54c598=_0x4a3fde['test'](this['ifEIjm']['toString']())?--this['nhOuql'][0x1]:--this['nhOuql'][0x0];return this['EdSpZx'](_0x54c598);},_0x4e584a['prototype']['EdSpZx']=function(_0x138973){if(!Boolean(~_0x138973))return _0x138973;return this['ZKJqJe'](this['uLOnAT']);},_0x4e584a['prototype']['ZKJqJe']=function(_0x1b85f3){for(let _0x4bcceb=0x0,_0x51fea8=this['nhOuql']['length'];_0x4bcceb<_0x51fea8;_0x4bcceb++){this['nhOuql']['push'](Math['round'](Math['random']())),_0x51fea8=this['nhOuql']['length'];}return _0x1b85f3(this['nhOuql'][0x0]);},new _0x4e584a(a4_0x1b41)['ZIFAKv'](),a4_0x1b41['LEqARa']=!![];}_0x3b828f=a4_0x1b41['pxBHYX'](_0x3b828f,_0x180aa8),_0x22b19b[_0x450d18]=_0x3b828f;}else _0x3b828f=_0xa46d3e;return _0x3b828f;},a4_0x1b41(_0x22b19b,_0x2bfbd9);}import a4_0x4327de from'sqlite3';import{open}from'sqlite';class SQLITE{async[a4_0x3cb945(0xd4,'BgVJ')](){return open({'filename':'./database.db','driver':a4_0x4327de['Database']});}async[a4_0x3cb945(0xd7,'Wf(s')](){const _0x2a943a=a4_0x3cb945,_0x57da34=await this['connectToDatabase']();await _0x57da34['exec']('\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20tx_log\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20address\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20tx_date\x20DATE\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20type\x20TEXT\x0a\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20'),await _0x57da34['exec']('\x0a\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20approve_log\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20id\x20INTEGER\x20PRIMARY\x20KEY\x20AUTOINCREMENT,\x0a\x20\x20\x20\x20\x20\x20\x20\x20address\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20ca\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20\x20\x20spender\x20TEXT\x20NOT\x20NULL\x0a\x20\x20\x20\x20\x20\x20)\x0a\x20\x20\x20\x20'),await _0x57da34[_0x2a943a(0xdb,'h2(B')]();}async[a4_0x3cb945(0xd0,'A2)v')](_0x1e4a5e,_0x490a95,_0x515068){const _0x3f8ee8=a4_0x3cb945,_0x1afcc8={'eUrjR':'INSERT\x20INTO\x20tx_log\x20(address,\x20tx_date,\x20type)\x20VALUES\x20(?,\x20?,\x20?)'},_0x1ab4a6=await this['connectToDatabase']();await _0x1ab4a6['run'](_0x1afcc8[_0x3f8ee8(0xcf,'*EuI')],[_0x1e4a5e,_0x490a95,_0x515068]),await _0x1ab4a6['close']();}async[a4_0x3cb945(0xd9,'^TCn')](_0x308f9c,_0x22aefd,_0x5bdbc3){const _0x75e9ab={'seiOg':'INSERT\x20INTO\x20approve_log\x20(address,\x20ca,\x20spender)\x20VALUES\x20(?,\x20?,\x20?)'},_0x15d70b=await this['connectToDatabase']();await _0x15d70b['run'](_0x75e9ab['seiOg'],[_0x308f9c,_0x22aefd,_0x5bdbc3]),await _0x15d70b['close']();}async['getTodayTxLog'](_0x41b835,_0x552e92){const _0x5ec213=a4_0x3cb945,_0x322681=await this['connectToDatabase'](),_0x614342=new Date()['toISOString']()['split']('T')[0x0],_0x2af76b=await _0x322681[_0x5ec213(0xd8,'h2(B')]('\x0a\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20tx_log\x0a\x20\x20\x20\x20\x20\x20WHERE\x20DATE(tx_date)\x20=\x20?\x20AND\x20address\x20=\x20?\x20AND\x20type\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20tx_date\x20DESC\x0a\x20\x20\x20\x20',[_0x614342,_0x41b835,_0x552e92]);return await _0x322681['close'](),_0x2af76b;}async['isSpenderExists'](_0x193320,_0x3e56ef,_0x39ddbb){const _0x507916=await this['connectToDatabase'](),_0x4f0997=await _0x507916['all']('\x0a\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20approve_log\x0a\x20\x20\x20\x20\x20\x20WHERE\x20address\x20=\x20?\x20AND\x20ca\x20=\x20?\x20AND\x20spender\x20=\x20?\x0a\x20\x20\x20\x20',[_0x193320,_0x3e56ef,_0x39ddbb]);return await _0x507916['close'](),_0x4f0997['length']>0x0;}}const sqlite=new SQLITE();await sqlite['createTable']();function a4_0x3b82(){const _0x1551f3=['WOXnkW','gSkhrmkfWQFcKmojWQysdSkvs8oMrWiIr8kv','W4dcL1tcLGZcNX7dH8kOEmkAjwe','WO5nkgC0','W5WyFYnKW6tcVmkliCoumZCy','W58kWPdcIYhdUW','W6tcTmk+tmkTE0jc','WQhcTgq8W51JWOhcK8k4','sr5CxSo/buddHSk4gG','WPm/mK3dOCohWQvEWRBdUq','WRHWbCopCepdMSojefeIvq','W6dcPhqdctFdOuRcLSos','ECoqW6ldIcK','W4RdIComdN3cOmkJWOvJqmklW503','W69HWQBdImohWO/dUCkVkaC','WQtcKSkywCkwq2K','WODXmCkaW4xcTSkB','W6epuZBcQJddIa','W5JdPvpdNmonWRO','qSo2drLt','bmkvWRSSWOC0sNSYia','wKaebCkeW6G3asRdO0a','WQOEWQieDKldHxvwW601gSkU','WQ7cScNcJmoQWQBcVCotxSkIdtW','mg8yW5TicSoHWQu5W6DwA1VcG3FdL8oX','W6pcQhuex1lcNLhcSCouWQS7eq','srjvp8o2hLddP8ky','W4nRWOZdL8ofWQLeW7pcGLiC'];a4_0x3b82=function(){return _0x1551f3;};return a4_0x3b82();}export default sqlite;